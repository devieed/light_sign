# 文字旋转角度功能（修正版）

## 更新时间
2026-01-17

## 正确的旋转角度定义

文字旋转角度指的是**文字顶部朝向哪里**：

```
     ↑ 0°
     |
← 270° W 90° →
     |
   180° ↓
```

### 四个角度选项

- **0°** - 文字顶部朝上（正常阅读方向）
- **90°** - 文字顶部朝右（顺时针旋转90°）
- **180°** - 文字顶部朝下（倒置，上下颠倒）
- **270°** - 文字顶部朝左（顺时针旋转270°，或逆时针90°）

## 视觉效果示例

### 0° - 正常
```
Welcome
→ 文字正常方向
```

### 90° - 顶部朝右
```
W
e
l
c
o
m
e
→ 文字顺时针旋转90°，像是躺向右侧
```

### 180° - 倒置
```
emoᴄleW
→ 文字上下颠倒
```

### 270° - 顶部朝左
```
e
m
o
c
l
e
W
→ 文字顺时针旋转270°（或逆时针90°），像是躺向左侧
```

## 与滚动方向的组合

文字旋转 + 滚动方向 = 不同的视觉效果

### 示例组合

#### 1. 0° + 横向滚动（←）
```
Welcome to LED ←
→ 标准横向跑马灯
```

#### 2. 90° + 横向滚动（←）
```
W
e
l ←
c
→ 文字竖着排，横向移动
```

#### 3. 180° + 横向滚动（←）
```
DEL ot emocleW ←
→ 文字倒置，横向移动
```

#### 4. 270° + 纵向滚动（↑）
```
e
m
o ↑
c
→ 文字竖着排（反向），纵向移动
```

#### 5. 0° + 纵向滚动（↑）
```
Welcome
   ↑
→ 横排文字，纵向移动
```

## 技术实现

### CSS transform 属性

```javascript
// 设置文字朝向角度
el.style.transform = `rotate(${props.textRotation}deg)`
el.style.transformOrigin = 'center center'
```

**说明**：
- `rotate(0deg)` - 不旋转
- `rotate(90deg)` - 顺时针旋转90°
- `rotate(180deg)` - 旋转180°（倒置）
- `rotate(270deg)` - 顺时针旋转270°（等同于逆时针90°）
- `transformOrigin: 'center center'` - 以中心点为旋转轴

### Props 定义

```javascript
textRotation: {
  type: Number,
  default: 0,
  validator: (value) => [0, 90, 180, 270].includes(value)
}
```

## 配置界面

```html
<div class="form-group">
  <label>🔄 {{ t.textRotation }}:</label>
  <select v-model.number="config.textRotation">
    <option :value="0">{{ t.rotation0 }}</option>    <!-- 0° (顶部朝上) -->
    <option :value="90">{{ t.rotation90 }}</option>   <!-- 90° (顶部朝右) -->
    <option :value="180">{{ t.rotation180 }}</option> <!-- 180° (顶部朝下) -->
    <option :value="270">{{ t.rotation270 }}</option> <!-- 270° (顶部朝左) -->
  </select>
</div>
```

## 多语言翻译

### 中文简体
```javascript
textRotation: '文字旋转角度',
rotation0: '0° (顶部朝上)',
rotation90: '90° (顶部朝右)',
rotation180: '180° (顶部朝下)',
rotation270: '270° (顶部朝左)',
```

### English
```javascript
textRotation: 'Text Rotation',
rotation0: '0° (Top Up)',
rotation90: '90° (Top Right)',
rotation180: '180° (Top Down)',
rotation270: '270° (Top Left)',
```

## 使用场景

### 场景 1: 标准横向跑马灯
```
设置：
- 文字角度：0°（正常）
- 滚动方向：横向滚动（←）
- 效果：标准LED跑马灯
```

### 场景 2: 竖排滚动（手机竖屏）
```
设置：
- 文字角度：90°（顶部朝右）
- 滚动方向：横向滚动（←）
- 效果：文字竖着排列，横向移动
```

### 场景 3: 倒置文字效果
```
设置：
- 文字角度：180°（倒置）
- 滚动方向：任意
- 效果：文字上下颠倒显示
```

### 场景 4: 创意竖排（反向）
```
设置：
- 文字角度：270°（顶部朝左）
- 滚动方向：纵向滚动（↑）
- 效果：文字竖着排列（反向），纵向移动
```

## 与其他功能的组合

可以与以下功能自由组合：

| 功能 | 选项 | 说明 |
|------|------|------|
| 滚动方向 | 横向/纵向/自动 | 控制移动轨迹 |
| 文字方向 | 横排/竖排 | 控制文字排列 |
| **文字角度** | **0°/90°/180°/270°** | **控制文字朝向** |
| 文字颜色 | 任意颜色 | 视觉效果 |
| 文字大小 | 10%-100% | 相对屏幕高度 |
| 滚动速度 | 5-60秒 | 动画时长 |
| 粗体 | 是/否 | 文字样式 |

## 特殊组合效果

### 组合 1: 竖排文字 + 90° + 横向滚动
```
文字方向：竖排
文字角度：90°
滚动方向：横向
→ 传统竖排文字，横向移动（像是躺下的竖排文字）
```

### 组合 2: 横排文字 + 0° + 纵向滚动
```
文字方向：横排
文字角度：0°
滚动方向：纵向
→ 正常横排文字，垂直移动
```

### 组合 3: 倒置效果 + 任意滚动
```
文字角度：180°
滚动方向：任意
→ 文字倒置显示，适合镜面反射等特殊场景
```

## 技术说明

### transform vs rotate 属性

我们使用 `transform: rotate()` 而不是 CSS `rotate` 属性：

```javascript
// ✅ 使用 transform (更好的兼容性)
el.style.transform = `rotate(90deg)`

// ❌ CSS rotate (较新，部分浏览器不支持)
el.style.rotate = '90deg'
```

**原因**：
- ✅ `transform` 兼容性更好
- ✅ 支持更多浏览器版本
- ✅ 可以与其他 transform 函数组合

### 旋转轴心点

```javascript
el.style.transformOrigin = 'center center'
```

确保文字以中心点旋转，而不是左上角。

## 浏览器兼容性

CSS `transform: rotate()` 支持：
- ✅ Chrome 所有版本
- ✅ Firefox 所有版本
- ✅ Safari 所有版本
- ✅ Edge 所有版本
- ✅ IE 9+
- ✅ 所有移动浏览器

## 更新的文件

1. ✅ `src/i18n.js` - 更新19种语言的翻译（0°/90°/180°/270°）
2. ✅ `src/components/MarqueeText.vue` - 更新 validator 和实现
3. ✅ `src/views/Home.vue` - 更新 UI 选项

## 测试场景

### 测试 1: 四个角度
1. 依次选择 0°、90°、180°、270°
2. **预期**：文字以对应角度显示

### 测试 2: 旋转 + 横向滚动
1. 设置：90° + 横向滚动
2. **预期**：文字竖着排，横向移动

### 测试 3: 旋转 + 纵向滚动
1. 设置：90° + 纵向滚动
2. **预期**：文字竖着排，纵向移动

### 测试 4: 倒置效果
1. 设置：180° + 任意滚动
2. **预期**：文字上下颠倒

### 测试 5: 持久化
1. 修改角度，刷新页面
2. **预期**：角度设置保持

## 理解要点

**关键概念**：文字旋转角度 = 文字顶部朝向哪里

```
示例：字母 "W"

0°:     W       (顶部朝上，正常)
90°:   <W>      (顶部朝右，躺右侧)
180°:   M       (顶部朝下，倒置)
270°:  >W<      (顶部朝左，躺左侧)
```

这样理解更直观！

---

**功能完成！** 🎉

现在文字旋转角度是 0°/90°/180°/270°，分别代表文字顶部朝向上/右/下/左。

